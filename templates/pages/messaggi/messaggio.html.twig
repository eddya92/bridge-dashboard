{% extends 'layouts/interno.html.twig' %}

{% block title %}{% trans %}Dettaglio messaggio{% endtrans %}{% endblock %}

{% block css_page %}
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Cuba admin is super flexible, powerful, clean &amp; modern responsive bootstrap 5 admin template with unlimited possibilities.">
    <meta name="keywords" content="admin template, Cuba admin template, dashboard template, flat admin template, responsive admin template, web app">
    <meta name="author" content="pixelstrap">
    <link rel="icon" href="/assets/images/favicon.png" type="image/x-icon">
    <link rel="shortcut icon" href="/assets/images/favicon.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css?family=Rubik:400,400i,500,500i,700,700i&amp;display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i,900&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../assets/css/vendors/themify.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" integrity="sha512-5A8nwdMOWrSz20fDsjczgUidUBR8liPYU+WymTZP1lmY9G6Oc7HlZv156XqnsgNUzTyMefFTcsFH/tnJE/+xBg==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" integrity="sha512-Cv93isQdFwaKBV+Z4X8kaVBYWHST58Xb/jVOcV9aRsGSArZsgAnFIhMpDoMDcFNoUtday1hdjn0nGp3+KZyyFw==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="stylesheet" type="text/css" href="/assets/css/vendors/scrollbar.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/vendors/animate.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/vendors/icofont.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.2/css/bootstrap.min.css" integrity="sha512-usVBAd66/NpVNfBge19gws2j6JZinnca12rAe2l+d+QkLU9fiG02O1X8Q6hepIpr/EYKZvKx/I9WsnujJuOmBA==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="stylesheet" type="text/css" href="/assets/css/style.css">
    <link id="color" rel="stylesheet" href="/assets/css/color-1.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/assets/css/responsive.css">
{% endblock css_page %}

{% block page_body %}
    <div class="page-body">
        <!-- region titolo e breadcrumb -->
        <div class="container-fluid">
            <div class="page-title">
                <div class="row">
                    <div class="col-sm-6 order-sm-1">
                        <div class="mb-3 d-block d-sm-none"></div>
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="{{ path('ingresso') }}"><i data-feather="home"></i></a>
                            </li>
                            <li class="breadcrumb-item">{% trans %}Virtual Office{% endtrans %}</li>
                            <li class="breadcrumb-item active">{% trans %}Messaggi{% endtrans %}</li>
                        </ol>
                        <div class="mb-2 d-block d-sm-none"></div>
                    </div>
                    <div class="col-sm-6 order-sm-0">
                        <div class="float-sm-start">
                            <h3>{% trans %}Messaggi{% endtrans %}</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- endregion Titolo e breadcrumb -->
        <!-- Container-fluid starts-->
        <div class="container-fluid">
            {% include 'layouts/partials/session_message.html.twig' %}

            <div class="row">
                <div class="col-sm-12">
                    <div class="blog-single">
                        <div class="blog-box blog-details">
                            <img class="img-fluid w-100" src="{{ messaggio.foto }}" alt="blog-main" style="max-height: 350px; width: auto !important;">
                            <div class="blog-details" id="idMessaggio" value="{{ messaggio.id }}">
                                <ul class="blog-social">
                                    <li>{{ messaggio.data | date('d/m/Y') }}</li>
                                    <li>{% trans %}Scritto da{% endtrans %}: {{ messaggio.mittente }}</li>
                                </ul>
                                <h4>{{ messaggio.titolo }}</h4>
                                <div class="single-blog-content-top">
                                    <p>{{ messaggio.testo | raw }}</p>
                                </div>
                            </div>
                        </div>
                        <div class="m-t-40"></div>
                        <div class="col-md-6 float-md-start text-md-start float-lg-start text-lg-start float-xl-start text-xl-start float-xxl-start text-xxl-start">
                            {% if idMessaggioPrecedente == 0 or idMessaggioPrecedente == messaggio.id %}
                                <button class="w-auto btn btn-outline-light txt-dark cart-btn-transform width_100" id="{{ idMessaggioPrecedente }}" onclick="changeMesssage(this.id)" disabled>
                                    <i class="fa fa-chevron-left"></i> {% trans %}precedente{% endtrans %}
                                </button>
                            {% else %}
                                <button class="w-auto btn btn-outline-light txt-dark cart-btn-transform width_100" id="{{ idMessaggioPrecedente }}" onclick="changeMesssage(this.id)">
                                    <i class="fa fa-chevron-left"></i> {% trans %}precedente{% endtrans %}
                                </button>
                            {% endif %}
                            {% if idMessaggioSuccessivo == 0 or idMessaggioSuccessivo == messaggio.id %}
                                <button class="w-auto btn btn-outline-light txt-dark cart-btn-transform width_100" id="{{ idMessaggioSuccessivo }}" onclick="changeMesssage(this.id)" disabled>
                                    {% trans %}successivo{% endtrans %} <i class="fa fa-chevron-right"></i>
                                </button>
                            {% else %}
                                <button class="w-auto btn btn-outline-light txt-dark cart-btn-transform width_100" id="{{ idMessaggioSuccessivo }}" onclick="changeMesssage(this.id)">
                                    {% trans %}successivo{% endtrans %} <i class="fa fa-chevron-right"></i>
                                </button>
                            {% endif %}
                        </div>
                        <div class="d-block d-md-none d-lg-none d-xl-none d-xxl-none m-t-20"></div>
                        <div class="col-md-6 float-md-end text-md-end float-lg-end text-lg-end float-xl-end text-xl-end float-xxl-end text-xxl-end">
                            <a href="{{ path('messaggi') }}">
                                <button class="w-auto btn btn-outline-light txt-dark cart-btn-transform width_100">
                                    <i class="fa fa-chevron-left"></i>{% trans %}torna alla pagina messaggi{% endtrans %}
                                </button>
                            </a>
                        </div>
                        <div class="m-t-40"></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Container-fluid Ends-->
    </div>

{% endblock page_body %}

{% block javascript %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
        integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.2/js/bootstrap.bundle.min.js"
        integrity="sha512-72WD92hLs7T5FAXn3vkNZflWG6pglUDDpm87TeQmfSg8KnrymL2G30R7as4FmTwhgu9H7eSzDCX3mjitSecKnw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.28.0/feather.min.js"
        integrity="sha512-7x3zila4t2qNycrtZ31HO0NnJr8kg2VI67YLoRSyi9hGhRN66FHYWr7Axa9Y1J9tGYHVBPqIjSE1ogHrJTz51g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/simplebar/5.3.5/simplebar.min.js"
        integrity="sha512-PXNAvB6wWywrk43aV52x7sFuo+m/2cUJYGNGYe+frlHLVMd4vEMEAvHFg1b88wECIk7r/TOejo5xL63Uf/JmHg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/js/jquery.dataTables.min.js"
        integrity="sha512-BkpSL20WETFylMrcirBahHfSnY++H2O1W+UnEEO4yNIl+jI2+zowyoGJpbtk6bx97fBXf++WJHSSK2MV4ghPcg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"
        integrity="sha512-2ImtlRlf2VVmiGZsjm9bEyhjGW4dU7B6TNwh/hx/iSByxNENtj3WVE6o/9Lj4TJeVXPi4bnOIMXFIJJAeufa0A=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="/assets/js/datepicker/date-picker/datepicker.js"></script>
<script src="/assets/js/icons/feather-icon/feather-icon.js"></script>
<script src="/assets/js/scrollbar/custom.js"></script>
<script src="/assets/js/config.js"></script>
<script src="/assets/js/sidebar-menu.js"></script>
<script src="/assets/js/tooltip-init.js"></script>
<script src="/assets/js/notify/bootstrap-notify.min.js"></script>
<script src="/assets/js/notify/index.js"></script>
<script src="/assets/js/script.js"></script>
<script src="/assets/js/theme-customizer/customizer.js"></script>
{% endblock javascript %}

{% block javascript_page %}
    <script>
		function changeMesssage(id){
			let url = "{{ path('messaggio', { id : ':id'}) }}";
			url = url.replace(':id', id);
			document.location.href = url;
		}
    </script>
{% endblock javascript_page %}